{"ast":null,"code":"import _classCallCheck from \"/Users/kaliguy7/Dev/leo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kaliguy7/Dev/leo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kaliguy7/Dev/leo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kaliguy7/Dev/leo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kaliguy7/Dev/leo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kaliguy7/Dev/leo/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport { Form, FormControl } from 'react-bootstrap';\nimport { connect } from \"react-redux\";\nimport { searchData as _searchData } from \"../actions/movieActions\";\nimport axios from 'axios';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.onInputChange = function (searchValue) {\n      _this.setState({\n        searchValue: searchValue\n      });\n\n      var result = _this.state.data;\n      result.map(function (val) {\n        if (val.title === searchValue) {\n          localStorage.setItem('searchVal', JSON.stringify(val));\n\n          _this.props.searchData(val);\n        }\n      });\n    };\n\n    _this.state = {\n      searchValue: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      var search = props.search;\n      console.log(search, '><><><><><');\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('https://api.themoviedb.org/3/search/movie?api_key=3e8db561aa337020f5a1157b37dfd439&language=en-US&query=${text}&page=1').then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        console.log(result.results, '/////');\n\n        _this2.setState({\n          data: result.results\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Form, {\n        inline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        placeholder: \"TV Search ...\",\n        className: \"mr-sm-2\",\n        value: this.state.searchValue,\n        onChange: function onChange(event) {\n          return _this3.onInputChange(event.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    search: state.movies.search\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    searchData: function searchData(val) {\n      return dispatch(_searchData(val));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","map":{"version":3,"sources":["/Users/kaliguy7/Dev/leo/src/components/Search.js"],"names":["React","Component","Form","FormControl","connect","searchData","axios","Search","props","onInputChange","searchValue","setState","result","state","data","map","val","title","localStorage","setItem","JSON","stringify","search","console","log","fetch","then","res","json","results","event","target","value","mapStateToProps","movies","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,iBAAlC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAU,IAAVA,WAAT,QAA2B,yBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,M;;;;;AAEJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;;AADiB,UAyCnBC,aAzCmB,GAyCH,UAACC,WAAD,EAAiB;AAC/B,YAAKC,QAAL,CAAc;AAAED,QAAAA,WAAW,EAAXA;AAAF,OAAd;;AACA,UAAME,MAAM,GAAG,MAAKC,KAAL,CAAWC,IAA1B;AACAF,MAAAA,MAAM,CAACG,GAAP,CAAW,UAAAC,GAAG,EAAI;AAChB,YAAIA,GAAG,CAACC,KAAJ,KAAcP,WAAlB,EAA+B;AAC7BQ,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAAlC;;AACA,gBAAKR,KAAL,CAAWH,UAAX,CAAsBW,GAAtB;AAGD;AACF,OAPD;AAQD,KApDkB;;AAGjB,UAAKH,KAAL,GAAa;AACXH,MAAAA,WAAW,EAAE;AADF,KAAb;AAHiB;AAOlB;;;;8CAEyBF,K,EAAO;AAAA,UACvBc,MADuB,GACZd,KADY,CACvBc,MADuB;AAE/BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAAoB,YAApB;AAED;;;wCAEmB;AAAA;;AACpBG,MAAAA,KAAK,CAAC,wHAAD,CAAL,CACKC,IADL,CACU,UAAAC,GAAG,EAAI;AACX,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,OAHL,EAGOF,IAHP,CAGY,UAAAd,MAAM,EAAI;AAChBW,QAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAM,CAACiB,OAAnB,EAA4B,OAA5B;;AACA,QAAA,MAAI,CAAClB,QAAL,CAAc;AAAEG,UAAAA,IAAI,EAAEF,MAAM,CAACiB;AAAf,SAAd;AAED,OAPL;AAQC;;;6BAEQ;AAAA;;AACP,aACE,oBAAC,IAAD;AAAM,QAAA,MAAM,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,WAAW,EAAC,eAFd;AAGE,QAAA,SAAS,EAAC,SAHZ;AAIE,QAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWH,WAJpB;AAKE,QAAA,QAAQ,EAAE,kBAAAoB,KAAK;AAAA,iBAAI,MAAI,CAACrB,aAAL,CAAmBqB,KAAK,CAACC,MAAN,CAAaC,KAAhC,CAAJ;AAAA,SALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAYD;;;;EAzCkB/B,S;;AAyDrB,IAAMgC,eAAe,GAAG,SAAlBA,eAAkB,CAAApB,KAAK,EAAI;AAC/B,SAAO;AACLS,IAAAA,MAAM,EAAET,KAAK,CAACqB,MAAN,CAAaZ;AADhB,GAAP;AAGD,CAJD;;AAMA,IAAMa,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACL/B,IAAAA,UAAU,EAAE,oBAAAW,GAAG;AAAA,aAAIoB,QAAQ,CAAC/B,WAAU,CAACW,GAAD,CAAX,CAAZ;AAAA;AADV,GAAP;AAGD,CAJD;;AAMA,eAAeZ,OAAO,CACpB6B,eADoB,EAEpBE,kBAFoB,CAAP,CAGb5B,MAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Form, FormControl } from 'react-bootstrap';\nimport { connect } from \"react-redux\";\nimport { searchData } from \"../actions/movieActions\";\nimport axios from 'axios';\n\nclass Search extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchValue: \"\",\n\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    const { search } = props\n    console.log(search, '><><><><><');\n\n  }\n\n  componentDidMount() {\n  fetch('https://api.themoviedb.org/3/search/movie?api_key=3e8db561aa337020f5a1157b37dfd439&language=en-US&query=${text}&page=1')\n      .then(res => {\n        return res.json()\n      }).then(result => {\n        console.log(result.results, '/////');\n        this.setState({ data: result.results })\n\n      })\n  }\n\n  render() {\n    return (\n      <Form inline>\n        <FormControl\n          type=\"text\"\n          placeholder=\"TV Search ...\"\n          className=\"mr-sm-2\"\n          value={this.state.searchValue}\n          onChange={event => this.onInputChange(event.target.value)}\n        />\n      </Form>\n\n    );\n  }\n\n  onInputChange = (searchValue) => {\n    this.setState({ searchValue });\n    const result = this.state.data\n    result.map(val => {\n      if (val.title === searchValue) {\n        localStorage.setItem('searchVal', JSON.stringify(val))\n        this.props.searchData(val);\n\n\n      }\n    })\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    search: state.movies.search,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    searchData: val => dispatch(searchData(val)),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Search);\n"]},"metadata":{},"sourceType":"module"}